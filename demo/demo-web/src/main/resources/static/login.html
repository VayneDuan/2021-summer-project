<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="description" content="">
        <meta name="author" content="">
        <link rel="shortcut icon" type="image/x-icon" href="images/favicon.ico">
        <title>Kuntosala Template</title>
        <!-- Reset CSS -->
        <link href="css/reset.css" rel="stylesheet" type="text/css">
        <!-- Bootstrap -->
        <link href="assets/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css">
        <!-- Font Awesome -->
        <link href="assets/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <!-- Iconmoon -->
        <link href="assets/iconmoon/css/iconmoon.css" rel="stylesheet" type="text/css">
        <!-- Lightbox CSS --> 
        <link href="assets/lightbox/css/lightbox.css" rel="stylesheet" type="text/css">
        <!-- Owl Carousel -->
        <link href="assets/owl-carousel/css/owl.carousel.min.css" rel="stylesheet" type="text/css">
        <!-- Animate -->
        <link href="css/animate.css" rel="stylesheet" type="text/css">
		<!-- Aos -->
        <link href="assets/aos/aos.css" rel="stylesheet" type="text/css">
        <!-- Custom Style -->
        <link href="css/custom.css" rel="stylesheet" type="text/css">
    </head>
    <body ng-app="MyApp">
        <!-- Start Header -->
        <header> 
            <!-- Start Header Sec -->
            <div class="container header-sec">
                <div class="row"> 
                    <span class="col-xs-12 col-sm-3 logo"><a href="index.html"><img src="images/logo.png" class="main img-responsive" alt="Fitness Gym"><img src="images/logo-fix.png" class="fix img-responsive" alt="Fitness Gym"></a></span>
                    <div class="col-xs-12 col-sm-9 header-right">
                        <!-- Start Navigation -->
                        <nav class="navbar navbar-expand-md navbar-dark navbar-custom">
                            <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown">
                                <span class="navbar-toggler-icon"></span>
                            </button>
                            <div class="collapse navbar-collapse" id="navbarNavDropdown">
                                <ul class="navbar-nav">
                                    <li class="nav-item">
                                        <a class="nav-link" href="index.html">首页</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="cart.html">购买</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="classes.html">课程</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="schedule.html">日程</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="trainers.html">教练</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="news.html">新闻</a>
                                    </li>
                                    <li class="nav-item  active">
                                        <a class="nav-link" href="login.html">登录</a>
                                    </li>
                                </ul>
                            </div>
                        </nav>
                        <!-- End Navigation -->
                    </div>
                </div>
            </div>
            <!-- End Header Sec --> 
        </header>
        <!-- End Header --> 

        <!-- Start Banner -->
        <div class="banner-outer inner-banner contact-us-banner">
            <span class="banner-shadow"></span>
            <div class="container">
                <div class="content" data-aos="fade-down">
                    <h1>登录</h1>
                    <div class="breadcrumbs_outer">
                        <div class="container">
                            <ul class="breadcrumbs">
                                <li><a href="index.html">主页</a></li>
                                <li>登录</li>
                                <li><a href="register.html">注册</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- End Banner -->

        <!-- Start Contact sec -->
        <div class="contact-outer" ng-controller="login_controller">
            <div class="container">
                <div class="row">
                    <div class="col-sm-7 col-xs-12" style="width: 100%">
                        <div class="form-wrapper">
                            <h3>登录</h3>
                            <form action="/loginController" method="post" id="contactform" name="loginForm">
                                <div class="row input-row col-sm-12">
                                    <input type="text" placeholder="请输入账号" ng-model="user.phone" required>
                                </div>
                                <div class="row input-row col-sm-12">
                                    <input type="password" placeholder="请输入密码" ng-model="user.passwd" required>
                                </div>
                                <div class="row input-row col-sm-12" >
                                    <input type="text" placeholder="验证码" ng-model="user.checkCode" style="width: 60%" required>
                                    <input type="text" style="width: 30%;margin-left: 50px" placeholder="验证码预留位">
                                </div>
                                <div class="row input-row col-sm-12">
                                    <button class="btn" ng-click="login()">登录</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- End Contact sec -->





        <!-- Start Footer -->
        <footer class="footer">
            <!-- Copy Rights --> 
            <div class="copy-rights-section">
                <div class="container">
                    <div class="row">
                        <div class="col-sm-12 col-xs-12">
                            <p>© 2018 - All rights <a href="http://www.17sucai.com/" title="17sucai">Reserved</a></p>
                        </div>
                    </div>
                </div>
            </div>
            <!-- End Copy Rights --> 
        </footer>
        <!-- End Footer --> 

        <!-- Scroll to top --> 
        <a href="#" class="scroll-top"><i class="fa fa-chevron-up" aria-hidden="true"></i></a> 

        <!-- jQuery (necessary for Bootstrap's JavaScript plugins) --> 
        <script src="js/jquery.min.js"></script> 
        <!-- Bootstrap JS --> 
        <script src="assets/bootstrap/js/bootstrap.min.js"></script> 
        <!-- Lightbox JS --> 
        <script src="assets/lightbox/js/lightbox.js"></script> 
        <!-- Owl Carousal JS --> 
        <script src="assets/isotope/js/isotope.min.js"></script> 
        <!-- Owl Carousal JS --> 
        <script src="assets/owl-carousel/js/owl.carousel.min.js"></script>
		<!-- Aos JS --> 
        <script src="assets/aos/aos.js"></script>
        <!-- Jquery Validate JS --> 
		<script src="assets/validate/jquery.validate.min.js"></script>   
		<!-- CounterUp JS --> 
        <script src="assets/counterup/counterup.min.js"></script>
        <!-- Waypoint JS --> 
        <script src="assets/counterup/waypoints.min.js"></script>
        <!-- Custom JS --> 
        <script src="js/custom.js"></script>
        <!--Angular JS-->
        <script src="js/angular-1.5.5/angular.js"></script>
        <srcipt src="js/gverify.js"></srcipt>
        <script>
            var app = angular.module("MyApp", []);
            app.controller("login_controller", function ($scope, $http) {
                $scope.user = {
                    "phone": '',
                    "passwd": '',
                };
                $scope.login = function () {
                    $http.post("http://localhost:8080/login", $scope.user).success(function (response) {
                        $scope.flag = response.flag
                        if ($scope.flag){
                            window.sessionStorage.setItem("isLogin","true");
                            window.sessionStorage.setItem("id",$scope.user.id);
                            window.location = "user.html"
                        }else{
                            alert("请检查登录信息");
                        }
                    })
                };
            })
        </script>
    </body>
</html>
